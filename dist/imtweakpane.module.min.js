/*! (c) 2021-2023 0b5vr - https://github.com/0b5vr/imtweakpane/blob/master/LICENSE */
import{Pane as t}from"tweakpane";class i{constructor(t){this.containerApi=t,this.__params={},this.__folders={},this.__buttons={},this.__tabs={},this.__bindings={},this.__blades={}}folder(t,s){const n=t.split("/");if(n.length>1){const t=n[0],i=n.slice(1).join("/");return this.folder(t).folder(i,s)}if(!i.imFolderApiCtor)throw new Error(void 0);if(null==this.__folders[t]){const n=this.containerApi.addFolder(Object.assign({title:t},s));this.__folders[t]=new i.imFolderApiCtor(n)}return this.__folders[t]}button(t,i){const s=t.split("/");if(s.length>1){const t=s[0],n=s.slice(1).join("/");return this.folder(t).button(n,i)}if(null==this.__buttons[t]){const s=this.containerApi.addButton(Object.assign({title:t},i));this.__buttons[t]=s}return this.__buttons[t]}tab(t,s){const n=t.split("/");if(n.length>1){const t=n[0],i=n.slice(1).join("/");return this.folder(t).tab(i,s)}if(!i.imTabApiCtor)throw new Error(void 0);if(null==this.__tabs[t]){const n=this.containerApi.addTab(null!=s?s:{pages:[]});this.__tabs[t]=new i.imTabApiCtor(n)}return this.__tabs[t]}value(t,i,s){var n;const e=t.split("/");if(e.length>1){const t=e[0],n=e.slice(1).join("/");return this.folder(t).value(n,i,s)}return this.binding(t,i,s),null!==(n=this.__params[t])&&void 0!==n?n:null}binding(t,i,s){var n;const e=t.split("/");if(e.length>1){const t=e[0],n=e.slice(1).join("/");return this.folder(t).binding(n,i,s)}if(null!=i)if(null==this.__params[t]){this.__params[t]=i;const n=this.containerApi.addBinding(this.__params,t,s);this.__bindings[t]=n}else(null==s?void 0:s.readonly)&&(this.__params[t]=i);return null!==(n=this.__bindings[t])&&void 0!==n?n:null}blade(t,i){const s=t.split("/");if(s.length>1){const t=s[0],n=s.slice(1).join("/");return this.folder(t).blade(n,i)}if(null==this.__blades[t]&&null!=i){const s=this.containerApi.addBlade(i);this.__blades[t]=s}return this.__blades[t]}}class s extends i{get folderApi(){return this.containerApi}constructor(t){super(t)}}i.imFolderApiCtor=s;class n extends i{get pane(){return this.containerApi}constructor(i){super(new t(i))}}class e extends i{get folderApi(){return this.containerApi}constructor(t){super(t)}}class r{constructor(t){this.tabApi=t,this.__pages={},t.pages.forEach((t=>{this.__pages[t.title]=new e(t)}))}page(t,i){if(null==this.__pages[t]){const s=this.tabApi.addPage(Object.assign({title:t},i));this.__pages[t]=new e(s)}return this.__pages[t]}}i.imTabApiCtor=r;export{i as ImContainerApi,s as ImFolderApi,n as ImPane,r as ImTabApi,e as ImTabPageApi};
