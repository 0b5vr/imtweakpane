/*!
 * @0b5vr/imtweakpane v0.2.0
 * Tweakpane but with immediate-y interface (actually not)
 *
 * Copyright (c) 2021-2023 0b5vr
 * @0b5vr/imtweakpane is distributed under MIT License
 * https://github.com/0b5vr/imtweakpane/blob/master/LICENSE
 */
(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('tweakpane')) :
    typeof define === 'function' && define.amd ? define(['exports', 'tweakpane'], factory) :
    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.IMTWEAKPANE = {}, global.tweakpane));
})(this, (function (exports, tweakpane) { 'use strict';

    class ImContainerApi {
        constructor(container) {
            this.containerApi = container;
            this.__params = {};
            this.__folders = {};
            this.__buttons = {};
            this.__tabs = {};
            this.__bindings = {};
            this.__blades = {};
        }
        folder(title, params) {
            const path = title.split("/");
            if (path.length > 1) {
                const folder = path[0];
                const remainingPath = path.slice(1).join("/");
                return this.folder(folder).folder(remainingPath, params);
            }
            if (!ImContainerApi.imFolderApiCtor) {
                throw new Error("ImContainerApi.imFolderApiCtor is not set"
                    );
            }
            if (this.__folders[title] == null) {
                const folder = this.containerApi.addFolder(Object.assign({ title }, params));
                this.__folders[title] = new ImContainerApi.imFolderApiCtor(folder);
            }
            return this.__folders[title];
        }
        button(title, params) {
            const path = title.split("/");
            if (path.length > 1) {
                const folder = path[0];
                const remainingPath = path.slice(1).join("/");
                return this.folder(folder).button(remainingPath, params);
            }
            if (this.__buttons[title] == null) {
                const button = this.containerApi.addButton(Object.assign({ title }, params));
                this.__buttons[title] = button;
            }
            return this.__buttons[title];
        }
        tab(id, params) {
            const path = id.split("/");
            if (path.length > 1) {
                const folder = path[0];
                const remainingPath = path.slice(1).join("/");
                return this.folder(folder).tab(remainingPath, params);
            }
            if (!ImContainerApi.imTabApiCtor) {
                throw new Error("ImContainerApi.imTabApiCtor is not set"
                    );
            }
            if (this.__tabs[id] == null) {
                const tab = this.containerApi.addTab(params !== null && params !== void 0 ? params : { pages: [] });
                this.__tabs[id] = new ImContainerApi.imTabApiCtor(tab);
            }
            return this.__tabs[id];
        }
        value(key, init, params) {
            var _a;
            const path = key.split("/");
            if (path.length > 1) {
                const folder = path[0];
                const remainingPath = path.slice(1).join("/");
                return this.folder(folder).value(remainingPath, init, params);
            }
            this.binding(key, init, params);
            return (_a = this.__params[key]) !== null && _a !== void 0 ? _a : null;
        }
        binding(key, init, params) {
            var _a;
            const path = key.split("/");
            if (path.length > 1) {
                const folder = path[0];
                const remainingPath = path.slice(1).join("/");
                return this.folder(folder).binding(remainingPath, init, params);
            }
            if (init != null) {
                if (this.__params[key] == null) {
                    this.__params[key] = init;
                    const binding = this.containerApi.addBinding(this.__params, key, params);
                    this.__bindings[key] = binding;
                }
                else if (params === null || params === void 0 ? void 0 : params.readonly) {
                    this.__params[key] = init;
                }
            }
            return (_a = this.__bindings[key]) !== null && _a !== void 0 ? _a : null;
        }
        blade(id, params) {
            const path = id.split("/");
            if (path.length > 1) {
                const folder = path[0];
                const remainingPath = path.slice(1).join("/");
                return this.folder(folder).blade(remainingPath, params);
            }
            if (this.__blades[id] == null && params != null) {
                const blade = this.containerApi.addBlade(params);
                this.__blades[id] = blade;
            }
            return this.__blades[id];
        }
    }

    class ImFolderApi extends ImContainerApi {
        get folderApi() {
            return this.containerApi;
        }
        constructor(folder) {
            super(folder);
        }
    }
    // don't worry about it
    ImContainerApi.imFolderApiCtor = ImFolderApi;

    class ImPane extends ImContainerApi {
        get pane() {
            return this.containerApi;
        }
        constructor(config) {
            super(new tweakpane.Pane(config));
        }
    }

    class ImTabPageApi extends ImContainerApi {
        get folderApi() {
            return this.containerApi;
        }
        constructor(page) {
            super(page);
        }
    }

    class ImTabApi {
        constructor(tabApi) {
            this.tabApi = tabApi;
            this.__pages = {};
            tabApi.pages.forEach((page) => {
                this.__pages[page.title] = new ImTabPageApi(page);
            });
        }
        page(title, params) {
            if (this.__pages[title] == null) {
                const page = this.tabApi.addPage(Object.assign({ title }, params));
                this.__pages[title] = new ImTabPageApi(page);
            }
            return this.__pages[title];
        }
    }
    // don't worry about it
    ImContainerApi.imTabApiCtor = ImTabApi;

    exports.ImContainerApi = ImContainerApi;
    exports.ImFolderApi = ImFolderApi;
    exports.ImPane = ImPane;
    exports.ImTabApi = ImTabApi;
    exports.ImTabPageApi = ImTabPageApi;

}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW10d2Vha3BhbmUuanMiLCJzb3VyY2VzIjpbIi4uL3NyYy9JbUNvbnRhaW5lckFwaS50cyIsIi4uL3NyYy9JbUZvbGRlckFwaS50cyIsIi4uL3NyYy9JbVBhbmUudHMiLCIuLi9zcmMvSW1UYWJQYWdlQXBpLnRzIiwiLi4vc3JjL0ltVGFiQXBpLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFR3ZWFrcGFuZSBmcm9tIFwidHdlYWtwYW5lXCI7XG5pbXBvcnQge1xuICBCbGFkZUNvbnRyb2xsZXIsXG4gIEJpbmRpbmdBcGksXG4gIENvbnRhaW5lckFwaSxcbiAgVmlldyxcbn0gZnJvbSBcIkB0d2Vha3BhbmUvY29yZVwiO1xuaW1wb3J0IHR5cGUgeyBJbUZvbGRlckFwaSB9IGZyb20gXCIuL0ltRm9sZGVyQXBpXCI7XG5pbXBvcnQgdHlwZSB7IEltVGFiQXBpIH0gZnJvbSBcIi4vSW1UYWJBcGlcIjtcblxuZXhwb3J0IGNsYXNzIEltQ29udGFpbmVyQXBpPFRDb250YWluZXJBcGkgZXh0ZW5kcyBDb250YWluZXJBcGk+IHtcbiAgLyoqXG4gICAqIERvbid0IHdvcnJ5IGFib3V0IGl0XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIGltRm9sZGVyQXBpQ3Rvcj86IHR5cGVvZiBJbUZvbGRlckFwaTtcblxuICAvKipcbiAgICogRG9uJ3Qgd29ycnkgYWJvdXQgaXRcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgaW1UYWJBcGlDdG9yPzogdHlwZW9mIEltVGFiQXBpO1xuXG4gIHB1YmxpYyByZWFkb25seSBjb250YWluZXJBcGk6IFRDb250YWluZXJBcGk7XG4gIHByaXZhdGUgcmVhZG9ubHkgX19wYXJhbXM6IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIHByaXZhdGUgcmVhZG9ubHkgX19mb2xkZXJzOiB7IFt0aXRsZTogc3RyaW5nXTogSW1Gb2xkZXJBcGkgfTtcbiAgcHJpdmF0ZSByZWFkb25seSBfX2J1dHRvbnM6IHsgW3RpdGxlOiBzdHJpbmddOiBUd2Vha3BhbmUuQnV0dG9uQXBpIH07XG4gIHByaXZhdGUgcmVhZG9ubHkgX190YWJzOiB7IFtpZDogc3RyaW5nXTogSW1UYWJBcGkgfTtcbiAgcHJpdmF0ZSByZWFkb25seSBfX2JpbmRpbmdzOiB7IFtrZXk6IHN0cmluZ106IEJpbmRpbmdBcGk8dW5rbm93biwgYW55LCBhbnk+IH07XG4gIHByaXZhdGUgcmVhZG9ubHkgX19ibGFkZXM6IHtcbiAgICBba2V5OiBzdHJpbmddOiBUd2Vha3BhbmUuQmxhZGVBcGk8QmxhZGVDb250cm9sbGVyPFZpZXc+PjtcbiAgfTtcblxuICBwdWJsaWMgY29uc3RydWN0b3IoY29udGFpbmVyOiBUQ29udGFpbmVyQXBpKSB7XG4gICAgdGhpcy5jb250YWluZXJBcGkgPSBjb250YWluZXI7XG4gICAgdGhpcy5fX3BhcmFtcyA9IHt9O1xuICAgIHRoaXMuX19mb2xkZXJzID0ge307XG4gICAgdGhpcy5fX2J1dHRvbnMgPSB7fTtcbiAgICB0aGlzLl9fdGFicyA9IHt9O1xuICAgIHRoaXMuX19iaW5kaW5ncyA9IHt9O1xuICAgIHRoaXMuX19ibGFkZXMgPSB7fTtcbiAgfVxuXG4gIHB1YmxpYyBmb2xkZXIoXG4gICAgdGl0bGU6IHN0cmluZyxcbiAgICBwYXJhbXM/OiBQYXJ0aWFsPFR3ZWFrcGFuZS5Gb2xkZXJQYXJhbXM+LFxuICApOiBJbUZvbGRlckFwaSB7XG4gICAgY29uc3QgcGF0aCA9IHRpdGxlLnNwbGl0KFwiL1wiKTtcbiAgICBpZiAocGF0aC5sZW5ndGggPiAxKSB7XG4gICAgICBjb25zdCBmb2xkZXIgPSBwYXRoWzBdO1xuICAgICAgY29uc3QgcmVtYWluaW5nUGF0aCA9IHBhdGguc2xpY2UoMSkuam9pbihcIi9cIik7XG4gICAgICByZXR1cm4gdGhpcy5mb2xkZXIoZm9sZGVyKS5mb2xkZXIocmVtYWluaW5nUGF0aCwgcGFyYW1zKTtcbiAgICB9XG5cbiAgICBpZiAoIUltQ29udGFpbmVyQXBpLmltRm9sZGVyQXBpQ3Rvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJkZXZlbG9wbWVudFwiXG4gICAgICAgICAgPyBcIkltQ29udGFpbmVyQXBpLmltRm9sZGVyQXBpQ3RvciBpcyBub3Qgc2V0XCJcbiAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX19mb2xkZXJzW3RpdGxlXSA9PSBudWxsKSB7XG4gICAgICBjb25zdCBmb2xkZXIgPSB0aGlzLmNvbnRhaW5lckFwaS5hZGRGb2xkZXIoeyB0aXRsZSwgLi4ucGFyYW1zIH0pO1xuICAgICAgdGhpcy5fX2ZvbGRlcnNbdGl0bGVdID0gbmV3IEltQ29udGFpbmVyQXBpLmltRm9sZGVyQXBpQ3Rvcihmb2xkZXIpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9fZm9sZGVyc1t0aXRsZV07XG4gIH1cblxuICBwdWJsaWMgYnV0dG9uKFxuICAgIHRpdGxlOiBzdHJpbmcsXG4gICAgcGFyYW1zPzogUGFydGlhbDxUd2Vha3BhbmUuQnV0dG9uUGFyYW1zPixcbiAgKTogVHdlYWtwYW5lLkJ1dHRvbkFwaSB7XG4gICAgY29uc3QgcGF0aCA9IHRpdGxlLnNwbGl0KFwiL1wiKTtcbiAgICBpZiAocGF0aC5sZW5ndGggPiAxKSB7XG4gICAgICBjb25zdCBmb2xkZXIgPSBwYXRoWzBdO1xuICAgICAgY29uc3QgcmVtYWluaW5nUGF0aCA9IHBhdGguc2xpY2UoMSkuam9pbihcIi9cIik7XG4gICAgICByZXR1cm4gdGhpcy5mb2xkZXIoZm9sZGVyKS5idXR0b24ocmVtYWluaW5nUGF0aCwgcGFyYW1zKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fX2J1dHRvbnNbdGl0bGVdID09IG51bGwpIHtcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IHRoaXMuY29udGFpbmVyQXBpLmFkZEJ1dHRvbih7IHRpdGxlLCAuLi5wYXJhbXMgfSk7XG4gICAgICB0aGlzLl9fYnV0dG9uc1t0aXRsZV0gPSBidXR0b247XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX19idXR0b25zW3RpdGxlXTtcbiAgfVxuXG4gIHB1YmxpYyB0YWIoaWQ6IHN0cmluZywgcGFyYW1zPzogVHdlYWtwYW5lLlRhYlBhcmFtcyk6IEltVGFiQXBpIHtcbiAgICBjb25zdCBwYXRoID0gaWQuc3BsaXQoXCIvXCIpO1xuICAgIGlmIChwYXRoLmxlbmd0aCA+IDEpIHtcbiAgICAgIGNvbnN0IGZvbGRlciA9IHBhdGhbMF07XG4gICAgICBjb25zdCByZW1haW5pbmdQYXRoID0gcGF0aC5zbGljZSgxKS5qb2luKFwiL1wiKTtcbiAgICAgIHJldHVybiB0aGlzLmZvbGRlcihmb2xkZXIpLnRhYihyZW1haW5pbmdQYXRoLCBwYXJhbXMpO1xuICAgIH1cblxuICAgIGlmICghSW1Db250YWluZXJBcGkuaW1UYWJBcGlDdG9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcImRldmVsb3BtZW50XCJcbiAgICAgICAgICA/IFwiSW1Db250YWluZXJBcGkuaW1UYWJBcGlDdG9yIGlzIG5vdCBzZXRcIlxuICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fX3RhYnNbaWRdID09IG51bGwpIHtcbiAgICAgIGNvbnN0IHRhYiA9IHRoaXMuY29udGFpbmVyQXBpLmFkZFRhYihwYXJhbXMgPz8geyBwYWdlczogW10gfSk7XG4gICAgICB0aGlzLl9fdGFic1tpZF0gPSBuZXcgSW1Db250YWluZXJBcGkuaW1UYWJBcGlDdG9yKHRhYik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX190YWJzW2lkXTtcbiAgfVxuXG4gIHB1YmxpYyB2YWx1ZTxUIGV4dGVuZHMgYW55PihcbiAgICBrZXk6IHN0cmluZyxcbiAgICBpbml0PzogVCxcbiAgICBwYXJhbXM/OiBUd2Vha3BhbmUuQmluZGluZ1BhcmFtcyxcbiAgKTogVCB8IG51bGwge1xuICAgIGNvbnN0IHBhdGggPSBrZXkuc3BsaXQoXCIvXCIpO1xuICAgIGlmIChwYXRoLmxlbmd0aCA+IDEpIHtcbiAgICAgIGNvbnN0IGZvbGRlciA9IHBhdGhbMF07XG4gICAgICBjb25zdCByZW1haW5pbmdQYXRoID0gcGF0aC5zbGljZSgxKS5qb2luKFwiL1wiKTtcbiAgICAgIHJldHVybiB0aGlzLmZvbGRlcihmb2xkZXIpLnZhbHVlKHJlbWFpbmluZ1BhdGgsIGluaXQsIHBhcmFtcyk7XG4gICAgfVxuXG4gICAgdGhpcy5iaW5kaW5nKGtleSwgaW5pdCwgcGFyYW1zKTtcblxuICAgIHJldHVybiAodGhpcy5fX3BhcmFtc1trZXldIGFzIFQgfCB1bmRlZmluZWQpID8/IG51bGw7XG4gIH1cblxuICBwdWJsaWMgYmluZGluZzxUIGV4dGVuZHMgYW55PihcbiAgICBrZXk6IHN0cmluZyxcbiAgICBpbml0PzogVCxcbiAgICBwYXJhbXM/OiBUd2Vha3BhbmUuQmluZGluZ1BhcmFtcyxcbiAgKTogVHdlYWtwYW5lLklucHV0QmluZGluZ0FwaTx1bmtub3duLCBUPiB8IG51bGwge1xuICAgIGNvbnN0IHBhdGggPSBrZXkuc3BsaXQoXCIvXCIpO1xuICAgIGlmIChwYXRoLmxlbmd0aCA+IDEpIHtcbiAgICAgIGNvbnN0IGZvbGRlciA9IHBhdGhbMF07XG4gICAgICBjb25zdCByZW1haW5pbmdQYXRoID0gcGF0aC5zbGljZSgxKS5qb2luKFwiL1wiKTtcbiAgICAgIHJldHVybiB0aGlzLmZvbGRlcihmb2xkZXIpLmJpbmRpbmcocmVtYWluaW5nUGF0aCwgaW5pdCwgcGFyYW1zKTtcbiAgICB9XG5cbiAgICBpZiAoaW5pdCAhPSBudWxsKSB7XG4gICAgICBpZiAodGhpcy5fX3BhcmFtc1trZXldID09IG51bGwpIHtcbiAgICAgICAgdGhpcy5fX3BhcmFtc1trZXldID0gaW5pdDtcbiAgICAgICAgY29uc3QgYmluZGluZyA9IHRoaXMuY29udGFpbmVyQXBpLmFkZEJpbmRpbmcoXG4gICAgICAgICAgdGhpcy5fX3BhcmFtcyxcbiAgICAgICAgICBrZXksXG4gICAgICAgICAgcGFyYW1zLFxuICAgICAgICApO1xuICAgICAgICB0aGlzLl9fYmluZGluZ3Nba2V5XSA9IGJpbmRpbmc7XG4gICAgICB9IGVsc2UgaWYgKHBhcmFtcz8ucmVhZG9ubHkpIHtcbiAgICAgICAgdGhpcy5fX3BhcmFtc1trZXldID0gaW5pdDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fX2JpbmRpbmdzW2tleV0gPz8gbnVsbDtcbiAgfVxuXG4gIHB1YmxpYyBibGFkZShcbiAgICBpZDogc3RyaW5nLFxuICAgIHBhcmFtcz86IFR3ZWFrcGFuZS5CYXNlQmxhZGVQYXJhbXMsXG4gICk6IFR3ZWFrcGFuZS5CbGFkZUFwaTxCbGFkZUNvbnRyb2xsZXI8Vmlldz4+IHwgbnVsbCB7XG4gICAgY29uc3QgcGF0aCA9IGlkLnNwbGl0KFwiL1wiKTtcbiAgICBpZiAocGF0aC5sZW5ndGggPiAxKSB7XG4gICAgICBjb25zdCBmb2xkZXIgPSBwYXRoWzBdO1xuICAgICAgY29uc3QgcmVtYWluaW5nUGF0aCA9IHBhdGguc2xpY2UoMSkuam9pbihcIi9cIik7XG4gICAgICByZXR1cm4gdGhpcy5mb2xkZXIoZm9sZGVyKS5ibGFkZShyZW1haW5pbmdQYXRoLCBwYXJhbXMpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9fYmxhZGVzW2lkXSA9PSBudWxsICYmIHBhcmFtcyAhPSBudWxsKSB7XG4gICAgICBjb25zdCBibGFkZSA9IHRoaXMuY29udGFpbmVyQXBpLmFkZEJsYWRlKHBhcmFtcyk7XG4gICAgICB0aGlzLl9fYmxhZGVzW2lkXSA9IGJsYWRlO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9fYmxhZGVzW2lkXTtcbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgVHdlYWtwYW5lIGZyb20gXCJ0d2Vha3BhbmVcIjtcbmltcG9ydCB7IEZvbGRlckFwaSB9IGZyb20gXCJAdHdlYWtwYW5lL2NvcmVcIjtcbmltcG9ydCB7IEltQ29udGFpbmVyQXBpIH0gZnJvbSBcIi4vSW1Db250YWluZXJBcGlcIjtcblxuZXhwb3J0IGNsYXNzIEltRm9sZGVyQXBpIGV4dGVuZHMgSW1Db250YWluZXJBcGk8Rm9sZGVyQXBpPiB7XG4gIHB1YmxpYyBnZXQgZm9sZGVyQXBpKCk6IFR3ZWFrcGFuZS5Gb2xkZXJBcGkge1xuICAgIHJldHVybiB0aGlzLmNvbnRhaW5lckFwaTtcbiAgfVxuXG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcihmb2xkZXI6IFR3ZWFrcGFuZS5Gb2xkZXJBcGkpIHtcbiAgICBzdXBlcihmb2xkZXIpO1xuICB9XG59XG5cbi8vIGRvbid0IHdvcnJ5IGFib3V0IGl0XG5JbUNvbnRhaW5lckFwaS5pbUZvbGRlckFwaUN0b3IgPSBJbUZvbGRlckFwaTtcbiIsImltcG9ydCB7IFBhbmUgfSBmcm9tIFwidHdlYWtwYW5lXCI7XG5pbXBvcnQgeyBJbUNvbnRhaW5lckFwaSB9IGZyb20gXCIuL0ltQ29udGFpbmVyQXBpXCI7XG5pbXBvcnQgeyBQYW5lQ29uZmlnIH0gZnJvbSBcInR3ZWFrcGFuZS9kaXN0L3R5cGVzL3BhbmUvcGFuZS1jb25maWdcIjtcblxuZXhwb3J0IGNsYXNzIEltUGFuZSBleHRlbmRzIEltQ29udGFpbmVyQXBpPFBhbmU+IHtcbiAgcHVibGljIGdldCBwYW5lKCk6IFBhbmUge1xuICAgIHJldHVybiB0aGlzLmNvbnRhaW5lckFwaTtcbiAgfVxuXG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb25maWc/OiBQYW5lQ29uZmlnKSB7XG4gICAgc3VwZXIobmV3IFBhbmUoY29uZmlnKSk7XG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIFR3ZWFrcGFuZSBmcm9tIFwidHdlYWtwYW5lXCI7XG5pbXBvcnQgeyBJbUNvbnRhaW5lckFwaSB9IGZyb20gXCIuL0ltQ29udGFpbmVyQXBpXCI7XG5cbmV4cG9ydCBjbGFzcyBJbVRhYlBhZ2VBcGkgZXh0ZW5kcyBJbUNvbnRhaW5lckFwaTxUd2Vha3BhbmUuVGFiUGFnZUFwaT4ge1xuICBwdWJsaWMgZ2V0IGZvbGRlckFwaSgpOiBUd2Vha3BhbmUuVGFiUGFnZUFwaSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGFpbmVyQXBpO1xuICB9XG5cbiAgcHVibGljIGNvbnN0cnVjdG9yKHBhZ2U6IFR3ZWFrcGFuZS5UYWJQYWdlQXBpKSB7XG4gICAgc3VwZXIocGFnZSk7XG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIFR3ZWFrcGFuZSBmcm9tIFwidHdlYWtwYW5lXCI7XG5pbXBvcnQgeyBJbUNvbnRhaW5lckFwaSB9IGZyb20gXCIuL0ltQ29udGFpbmVyQXBpXCI7XG5pbXBvcnQgeyBJbVRhYlBhZ2VBcGkgfSBmcm9tIFwiLi9JbVRhYlBhZ2VBcGlcIjtcblxuZXhwb3J0IGNsYXNzIEltVGFiQXBpIHtcbiAgcHVibGljIHJlYWRvbmx5IHRhYkFwaTogVHdlYWtwYW5lLlRhYkFwaTtcbiAgcHJpdmF0ZSBfX3BhZ2VzOiB7IFt0aXRsZTogc3RyaW5nXTogSW1UYWJQYWdlQXBpIH07XG5cbiAgcHVibGljIGNvbnN0cnVjdG9yKHRhYkFwaTogVHdlYWtwYW5lLlRhYkFwaSkge1xuICAgIHRoaXMudGFiQXBpID0gdGFiQXBpO1xuICAgIHRoaXMuX19wYWdlcyA9IHt9O1xuXG4gICAgdGFiQXBpLnBhZ2VzLmZvckVhY2goKHBhZ2UpID0+IHtcbiAgICAgIHRoaXMuX19wYWdlc1twYWdlLnRpdGxlXSA9IG5ldyBJbVRhYlBhZ2VBcGkocGFnZSk7XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgcGFnZShcbiAgICB0aXRsZTogc3RyaW5nLFxuICAgIHBhcmFtcz86IFBhcnRpYWw8VHdlYWtwYW5lLlRhYlBhZ2VQYXJhbXM+LFxuICApOiBJbVRhYlBhZ2VBcGkge1xuICAgIGlmICh0aGlzLl9fcGFnZXNbdGl0bGVdID09IG51bGwpIHtcbiAgICAgIGNvbnN0IHBhZ2UgPSB0aGlzLnRhYkFwaS5hZGRQYWdlKHsgdGl0bGUsIC4uLnBhcmFtcyB9KTtcbiAgICAgIHRoaXMuX19wYWdlc1t0aXRsZV0gPSBuZXcgSW1UYWJQYWdlQXBpKHBhZ2UpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9fcGFnZXNbdGl0bGVdO1xuICB9XG59XG5cbi8vIGRvbid0IHdvcnJ5IGFib3V0IGl0XG5JbUNvbnRhaW5lckFwaS5pbVRhYkFwaUN0b3IgPSBJbVRhYkFwaTtcbiJdLCJuYW1lcyI6WyJQYW5lIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztVQVVhLGNBQWMsQ0FBQTtJQXFCekIsSUFBQSxXQUFBLENBQW1CLFNBQXdCLEVBQUE7SUFDekMsUUFBQSxJQUFJLENBQUMsWUFBWSxHQUFHLFNBQVMsQ0FBQztJQUM5QixRQUFBLElBQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO0lBQ25CLFFBQUEsSUFBSSxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7SUFDcEIsUUFBQSxJQUFJLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztJQUNwQixRQUFBLElBQUksQ0FBQyxNQUFNLEdBQUcsRUFBRSxDQUFDO0lBQ2pCLFFBQUEsSUFBSSxDQUFDLFVBQVUsR0FBRyxFQUFFLENBQUM7SUFDckIsUUFBQSxJQUFJLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQztTQUNwQjtRQUVNLE1BQU0sQ0FDWCxLQUFhLEVBQ2IsTUFBd0MsRUFBQTtZQUV4QyxNQUFNLElBQUksR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzlCLFFBQUEsSUFBSSxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtJQUNuQixZQUFBLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN2QixZQUFBLE1BQU0sYUFBYSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzlDLFlBQUEsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxhQUFhLEVBQUUsTUFBTSxDQUFDLENBQUM7YUFDMUQ7SUFFRCxRQUFBLElBQUksQ0FBQyxjQUFjLENBQUMs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
